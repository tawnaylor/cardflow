<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CardFlow — Add Card</title>
  <meta name="description" content="Add a card to your CardFlow vault." />
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <a class="skip-link" href="#main">Skip to content</a>

  <div class="bg" aria-hidden="true">
    <div class="bg__grid"></div>
    <div class="bg__noise"></div>
    <div class="bg__glow bg__glow--pink"></div>
    <div class="bg__glow bg__glow--blue"></div>
    <div class="bg__glow bg__glow--gold"></div>
  </div>

  <header class="topbar" aria-label="Top navigation">
    <div class="topbar__inner">
      <a class="brand" href="index.html#home" aria-label="CardFlow home">
        <span class="brand__mark" aria-hidden="true"></span>
        <span class="brand__name">CardFlow</span>
        <span class="brand__tag">Neon Binder • Modern Vault</span>
      </a>

      <nav class="topbar__nav" aria-label="Primary">
        <a class="navlink" href="index.html#home">Home</a>
        <a class="navlink" href="index.html#fresh-pulls">Fresh Pulls</a>
        <a class="navlink is-active" href="add-card.html">Add Card</a>
        <a class="navlink" href="binder.html">Binder</a>
      </nav>

      <div class="topbar__actions">
        <a class="btn btn--ghost" href="binder.html">Open Binder</a>
      </div>
    </div>
  </header>

  <main id="main" class="main" tabindex="-1">
    <section class="section">
      <header class="section__header">
        <div>
          <h1 class="section__title">Add a Card</h1>
          <p class="section__subtitle">Validated form + dropdowns + local storage. Add it once—CardFlow remembers.</p>
        </div>
      </header>

      <div class="formShell">
        <form id="addCardForm" class="form" novalidate>
          <div class="formGrid">
            <!-- Game -->
            <div class="control">
              <label class="label" for="game">Game</label>
              <select id="game" name="game" class="input" required>
                <option value="" selected disabled>Choose…</option>
                <option value="pokemon">Pokémon</option>
                <option value="mtg">Magic: The Gathering</option>
              </select>
              <p class="error" id="err-game" aria-live="polite"></p>
            </div>

            <!-- Set -->
            <div class="control">
              <label class="label" for="set">Set</label>
              <select id="set" name="set" class="input" required>
                <option value="" selected disabled>Select game first…</option>
              </select>
              <p class="help">This is a dropdown (requirement). You can expand the list later from your sets.json.</p>
              <p class="error" id="err-set" aria-live="polite"></p>
            </div>

            <!-- Set Code -->
            <div class="control">
              <label class="label" for="setCode">Set Code</label>
              <input
                id="setCode"
                name="setCode"
                class="input"
                placeholder="e.g., BS"
                inputmode="latin"
                minlength="2"
                maxlength="6"
                pattern="^[A-Za-z0-9]{2,6}$"
                required
              />
              <p class="help">2–6 letters/numbers (auto-fills when you pick a set).</p>
              <p class="error" id="err-setCode" aria-live="polite"></p>
            </div>

            <!-- Name -->
            <div class="control">
              <label class="label" for="name">Card Name</label>
              <input id="name" name="name" class="input" placeholder="e.g., Charizard" required maxlength="60" />
              <p class="error" id="err-name" aria-live="polite"></p>
            </div>

            <!-- Number -->
            <div class="control">
              <label class="label" for="number">Card Number</label>
              <input
                id="number"
                name="number"
                class="input"
                placeholder="e.g., 4/102 or 233"
                required
                maxlength="16"
                pattern="^[0-9]{1,4}(\/[0-9]{1,4})?$"
              />
              <p class="help">Accepted: 233 or 4/102 (simple validation).</p>
              <p class="error" id="err-number" aria-live="polite"></p>
            </div>

            <!-- Rarity -->
            <div class="control">
              <label class="label" for="rarity">Rarity</label>
              <select id="rarity" name="rarity" class="input" required>
                <option value="" selected disabled>Choose…</option>
                <option value="common">Common</option>
                <option value="rare">Rare</option>
                <option value="holo">Holo</option>
                <option value="secret">Secret</option>
              </select>
              <p class="error" id="err-rarity" aria-live="polite"></p>
            </div>

            <!-- Value -->
            <div class="control">
              <label class="label" for="value">Estimated Value (USD)</label>
              <input
                id="value"
                name="value"
                class="input"
                type="number"
                inputmode="decimal"
                min="0"
                step="0.01"
                placeholder="e.g., 12.50"
              />
              <p class="help">Optional. You can wire live pricing later.</p>
              <p class="error" id="err-value" aria-live="polite"></p>
            </div>

            <!-- Notes -->
            <div class="control control--wide">
              <label class="label" for="notes">Notes (optional)</label>
              <textarea id="notes" name="notes" class="input textarea" placeholder="Condition, where you got it, etc." maxlength="240"></textarea>
              <p class="help">Saved with the card for later inspection.</p>
            </div>
          </div>

          <div class="formActions">
            <button class="btn btn--primary" type="submit">Save Card</button>
            <button class="btn btn--ghost" type="button" id="saveAndAddAnotherBtn">Save + Add Another</button>
            <a class="btn btn--ghost" href="index.html#fresh-pulls">Back to Home</a>
          </div>

          <p class="formStatus" id="formStatus" role="status" aria-live="polite"></p>
        </form>
      </div>
    </section>

    <footer class="footer">
      <div class="footer__card">
        <div class="footer__line1">CardFlow™</div>
        <div class="footer__line2">Track Smart. Trade Smarter.</div>
        <div class="footer__line3">© <span id="year"></span> CardFlow</div>
      </div>
    </footer>
  </main>

  <script type="module" src="js/add-card.js"></script>
</body>
</html>
