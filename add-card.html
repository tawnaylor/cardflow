<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CardFlow • Add Cards</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  <header id="siteHeader" class="site-header"></header>

  <main class="form-wrap">
    <h1>Add Cards</h1>

    <section class="notice" aria-label="Instructions">
      <ol>
        <li><strong>Search</strong> a Pokémon TCG card (name, set, or number).</li>
        <li><strong>Select</strong> the result to auto-fill the form.</li>
        <li><strong>Confirm</strong> series, expansion, rarity, and card number.</li>
        <li><strong>Upload</strong> an image if you want a manual image saved locally.</li>
        <li><strong>Save</strong> the card. Duplicates merge into quantity when Series+Expansion match.</li>
      </ol>
    </section>

    <fieldset>
      <legend>Search (API)</legend>
      <div class="row">
        <label>
          Search Pokémon TCG
          <input id="apiQuery" type="text" placeholder="e.g., Charizard, 4/102, Pikachu VMAX" />
        </label>
        <label>
          &nbsp;
          <button id="btnApiSearch" type="button">Search</button>
        </label>
      </div>
      <label>
        Results
        <select id="apiResults">
          <option value="">Search results will appear here...</option>
        </select>
      </label>
      <div class="small">Uses your API key in client-side JS (fine for local/class demo).</div>
    </fieldset>

    <fieldset>
      <legend>Card Info (Manual + Auto-fill)</legend>

      <div class="inline-preview">
        <div class="preview-img">
          <img id="cardPreview" src="assets/placeholder-card.png" alt="Card preview" />
        </div>

        <div class="form-wrap">
          <div class="row">
            <label>
              Pokémon name
              <input id="name" type="text" required />
            </label>
            <label>
              Card number
              <input id="number" type="text" placeholder="e.g., 4/102" required />
            </label>
          </div>

          <div class="row">
            <label>
              Series
              <select id="series" required>
                <option value="">Loading series...</option>
              </select>
            </label>
            <label>
              Expansion
              <select id="expansion" required>
                <option value="">Select series first...</option>
              </select>
            </label>
          </div>

          <div class="row">
            <label>
              Rarity
              <input id="rarity" type="text" placeholder="e.g., Rare Secret" required />
            </label>
            <label>
              &nbsp;
              <span class="small">One binder (Main Binder). Organized by Series → Expansion.</span>
            </label>
          </div>

          <label>
            Upload image (manual)
            <input id="imageUpload" type="file" accept="image/*" />
          </label>

          <div class="actions">
            <button id="btnSave" type="button">Save Card</button>
            <button id="btnClear" type="button">Clear Form</button>
          </div>

          <div id="status" class="small" aria-live="polite"></div>
        </div>
      </div>
    </fieldset>
  </main>

  <footer id="siteFooter" class="site-footer"></footer>

  <script type="module" src="js/app.mjs"></script>
</body>
</html>
