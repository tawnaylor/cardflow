/* ===============================
   CardFlow — Vintage Card Shop Edition
   =============================== */

:root{
  --bg: #120b0b;
  --paper: #f3e7cf;
  --paper2: #ecd8b7;
  --ink: rgba(20, 12, 10, .92);
  --mutedInk: rgba(20, 12, 10, .72);

  --panel: rgba(255,255,255,.08);
  --border: rgba(20,12,10,.18);
  --shadow: 0 16px 42px rgba(0,0,0,.35);
  --radius: 18px;

  /* Color pops */
  --pk: #ffcc00;     /* Pokémon-ish */
  --pk2:#2a75bb;
  --mtg:#b91c1c;     /* MTG-ish */
  --mtg2:#111827;

  --accent: #d97706; /* warm vintage accent */
  --danger: #ef4444;
  --focus: 2px solid rgba(234, 179, 8, .9);

  --motion: running;
}

*{box-sizing:border-box}
html,body{height:100%}
body.shop{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  color: var(--paper);
  background:
    radial-gradient(1200px 700px at 20% 0%, rgba(255, 204, 0, .12), transparent 55%),
    radial-gradient(900px 650px at 85% 5%, rgba(185, 28, 28, .14), transparent 60%),
    radial-gradient(900px 900px at 70% 85%, rgba(42, 117, 187, .12), transparent 55%),
    linear-gradient(180deg, #0b0505, #120b0b 30%, #0b0505);
}

a{color:inherit}
.wrap{max-width:1120px; margin:0 auto; padding:18px}

.muted{color: rgba(243,231,207,.78)}
.small{font-size:.92rem}
.h2{font-size:1.55rem; margin:0 0 10px}
.h3{font-size:1.15rem; margin:0 0 10px}

.sep{border:0; border-top:1px solid rgba(243,231,207,.15); margin:18px 0}

.skip-link{
  position:absolute; left:-999px; top:10px; background:#000; padding:10px 12px;
  border-radius:10px; z-index:999; color:#fff;
}
.skip-link:focus{left:10px; outline:var(--focus)}

/* Header */
.site-header{
  position:sticky; top:0; z-index:50;
  backdrop-filter: blur(10px);
  background: rgba(10, 5, 5, .68);
  border-bottom:1px solid rgba(243,231,207,.14);
}

.header-grid{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
}

.brand-link{
  display:flex; align-items:center; gap:12px;
  text-decoration:none;
}

.brand-mark{
  width:44px; height:44px; border-radius:14px;
  display:grid; place-items:center;
  font-weight:900; letter-spacing:.5px;
  color: #120b0b;
  background:
    radial-gradient(circle at 30% 25%, rgba(255,255,255,.9), rgba(255,255,255,.25)),
    linear-gradient(135deg, var(--pk), var(--mtg));
  box-shadow: 0 10px 25px rgba(0,0,0,.35);
  border:1px solid rgba(255,255,255,.22);
}

.brand{margin:0; font-size:1.32rem; letter-spacing:.6px}
.header-actions{display:flex; gap:10px; flex-wrap:wrap}

/* Marquee */
.marquee{
  border-top:1px dashed rgba(243,231,207,.18);
  border-bottom:1px dashed rgba(243,231,207,.18);
  overflow:hidden;
}
.marquee-track{
  display:flex;
  gap:42px;
  white-space:nowrap;
  padding:8px 0;
  opacity:.9;
  animation: marquee 20s linear infinite;
  animation-play-state: var(--motion);
}
.marquee-track span{
  font-weight:900;
  letter-spacing:3px;
  color: rgba(243,231,207,.75);
  text-transform: uppercase;
}
@keyframes marquee{
  from{transform: translateX(0)}
  to{transform: translateX(-33.333%)}
}

/* Buttons */
.btn{
  appearance:none; border:1px solid rgba(243,231,207,.22);
  background: rgba(255,255,255,.06);
  color: var(--paper);
  padding:10px 12px;
  border-radius: 16px;
  cursor:pointer;
  text-decoration:none;
  font-weight:800;
  transition: transform .15s ease, background .15s ease, border-color .15s ease;
}
.btn:hover{transform: translateY(-1px); background: rgba(255,255,255,.10)}
.btn:focus-visible{outline:var(--focus); outline-offset:2px}
.btn.primary{
  border-color: rgba(255, 204, 0, .55);
  background: linear-gradient(135deg, rgba(255,204,0,.22), rgba(185,28,28,.18));
}
.btn.ghost{background: transparent}
.btn.danger{border-color: rgba(239,68,68,.65); background: rgba(239,68,68,.12)}

/* Cards (paper on dark shop table) */
.card{
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  border:1px solid rgba(243,231,207,.16);
  background:
    radial-gradient(900px 600px at 10% 0%, rgba(255,204,0,.10), transparent 60%),
    radial-gradient(800px 600px at 90% 20%, rgba(185,28,28,.10), transparent 65%),
    linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  padding:18px;
}

.row{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
.space-between{justify-content:space-between}

/* HERO */
.shop-hero{
  display:grid;
  grid-template-columns: 1.25fr .75fr;
  gap:16px;
  align-items:stretch;
}
.shop-title{
  margin:.2rem 0 .6rem;
  font-size: clamp(1.6rem, 3vw, 2.2rem);
  line-height:1.12;
  letter-spacing:.2px;
}
.badge-row{display:flex; gap:10px; flex-wrap:wrap}
.chip{
  font-weight:900;
  padding:7px 10px;
  border-radius:999px;
  border:1px solid rgba(243,231,207,.22);
  background: rgba(255,255,255,.06);
}
.chip-pokemon{border-color: rgba(255,204,0,.5); box-shadow: inset 0 0 0 1px rgba(42,117,187,.15)}
.chip-mtg{border-color: rgba(185,28,28,.55); box-shadow: inset 0 0 0 1px rgba(17,24,39,.15)}
.chip-vintage{border-color: rgba(217,119,6,.55)}

.shop-stats{
  margin-top:12px;
  display:grid;
  grid-template-columns: repeat(3, minmax(0,1fr));
  gap:10px;
}
.stat{
  border:1px dashed rgba(243,231,207,.20);
  background: rgba(0,0,0,.18);
  border-radius:16px;
  padding:10px 12px;
}
.stat .num{font-weight:900; font-size:1.35rem}
.stat .lab{color: rgba(243,231,207,.78); font-size:.9rem}

/* Poster */
.poster{
  height:100%;
  border-radius: 20px;
  border:1px solid rgba(243,231,207,.18);
  background:
    linear-gradient(180deg, rgba(243,231,207,.08), rgba(243,231,207,.04)),
    radial-gradient(500px 400px at 50% 0%, rgba(255,204,0,.14), transparent 60%),
    radial-gradient(500px 400px at 50% 90%, rgba(185,28,28,.14), transparent 60%);
  overflow:hidden;
  position:relative;
}
.poster-top{
  padding:14px 14px 10px;
  border-bottom:1px dashed rgba(243,231,207,.18);
}
.poster-title{
  font-weight:1000;
  letter-spacing:2px;
}
.poster-sub{color: rgba(243,231,207,.75); font-weight:700}
.poster-body{position:relative; padding:14px}
.poster-lines{
  height:200px;
  border-radius:16px;
  background:
    repeating-linear-gradient(
      180deg,
      rgba(243,231,207,.10) 0px,
      rgba(243,231,207,.10) 2px,
      transparent 2px,
      transparent 18px
    );
  border:1px solid rgba(243,231,207,.14);
}
.poster-foot{
  position:absolute; left:0; right:0; bottom:0;
  padding:10px 14px;
  border-top:1px dashed rgba(243,231,207,.18);
  color: rgba(243,231,207,.7);
}

.poster-sticker{
  position:absolute;
  padding:8px 10px;
  border-radius:999px;
  font-weight:900;
  color:#120b0b;
  border:1px solid rgba(0,0,0,.12);
  box-shadow: 0 10px 25px rgba(0,0,0,.25);
}
.poster-sticker.s1{top:18px; right:16px; background: linear-gradient(135deg, var(--pk), #fff1a6)}
.poster-sticker.s2{top:72px; left:16px; background: linear-gradient(135deg, rgba(185,28,28,.95), #ffd6d6)}
.poster-sticker.s3{bottom:72px; right:18px; background: linear-gradient(135deg, rgba(42,117,187,.95), #dbeafe)}

/* Recent Stage */
.shop-shelf{position:relative}
.recent-stage{
  margin-top:12px;
  height: 270px;
  border-radius: 22px;
  border:1px solid rgba(243,231,207,.18);
  background:
    radial-gradient(600px 260px at 30% 10%, rgba(255,204,0,.10), transparent 60%),
    radial-gradient(600px 260px at 70% 80%, rgba(185,28,28,.12), transparent 60%),
    linear-gradient(180deg, rgba(0,0,0,.25), rgba(0,0,0,.35));
  overflow:hidden;
  position:relative;
}

/* floating cards */
.float-card{
  position:absolute;
  width: 200px;
  height: 250px;
  border-radius: 18px;
  border:1px solid rgba(243,231,207,.20);
  background:
    linear-gradient(180deg, rgba(243,231,207,.12), rgba(243,231,207,.06));
  box-shadow: 0 20px 45px rgba(0,0,0,.35);
  transform-style: preserve-3d;
  cursor:pointer;
}
.float-card:focus-visible{outline:var(--focus); outline-offset:4px}
.float-card .topbar{
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 12px 8px;
  border-bottom:1px dashed rgba(243,231,207,.18);
  font-weight:900;
}
.tag{
  font-size:.78rem;
  font-weight:1000;
  letter-spacing:.6px;
  padding:5px 8px;
  border-radius:999px;
  border:1px solid rgba(243,231,207,.20);
  background: rgba(0,0,0,.18);
}
.tag.pk{border-color: rgba(255,204,0,.55)}
.tag.mtg{border-color: rgba(185,28,28,.55)}
.float-card .thumb{
  margin:10px 12px 8px;
  height: 150px;
  border-radius: 14px;
  border:1px solid rgba(243,231,207,.18);
  background: rgba(0,0,0,.22);
  overflow:hidden;
  display:grid;
  place-items:center;
}
.float-card .thumb img{width:100%; height:100%; object-fit:cover}
.float-card .meta{
  padding:0 12px 12px;
}
.float-card .meta .name{
  margin:0;
  font-weight:1000;
  font-size:1rem;
  line-height:1.15;
}
.float-card .meta .sub{
  margin:6px 0 0;
  color: rgba(243,231,207,.78);
  font-size:.92rem;
}

@keyframes driftA{
  0%{transform: translate3d(-240px, 20px, 0) rotate(-6deg)}
  50%{transform: translate3d(520px, 35px, 0) rotate(4deg)}
  100%{transform: translate3d(1180px, 18px, 0) rotate(-2deg)}
}
@keyframes driftB{
  0%{transform: translate3d(-280px, 160px, 0) rotate(7deg)}
  50%{transform: translate3d(520px, 145px, 0) rotate(-5deg)}
  100%{transform: translate3d(1180px, 170px, 0) rotate(3deg)}
}

.float-card.a{
  animation: driftA 18s linear infinite;
  animation-play-state: var(--motion);
}
.float-card.b{
  animation: driftB 22s linear infinite;
  animation-play-state: var(--motion);
}

.float-card:hover{
  filter: brightness(1.08);
}

/* Panels */
.shop-panels{
  margin-top:14px;
  display:grid;
  grid-template-columns: repeat(3, minmax(0,1fr));
  gap:12px;
}
.panel{
  border:1px solid rgba(243,231,207,.16);
  background: rgba(0,0,0,.18);
  border-radius: 18px;
  padding:12px 14px;
}

/* Empty */
.empty{
  margin-top:12px;
  padding:14px;
  border-radius:16px;
  border:1px dashed rgba(243,231,207,.20);
  background: rgba(0,0,0,.18);
}

/* Toast */
.toast{
  position: fixed;
  right: 18px;
  bottom: 18px;
  max-width: 360px;
  padding: 12px 14px;
  border-radius: 16px;
  border: 1px solid rgba(243,231,207,.18);
  background: rgba(0,0,0,.65);
  backdrop-filter: blur(10px);
  box-shadow: var(--shadow);
  transform: translateY(20px);
  opacity: 0;
  pointer-events:none;
  transition: transform .2s ease, opacity .2s ease;
}
.toast.show{transform: translateY(0); opacity: 1}

/* Responsive */
@media (max-width: 920px){
  .shop-hero{grid-template-columns:1fr}
  .shop-panels{grid-template-columns:1fr}
  .shop-stats{grid-template-columns:1fr}
  .recent-stage{height: 320px}
}
